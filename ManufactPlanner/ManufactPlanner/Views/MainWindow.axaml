<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:converters="using:ManufactPlanner.Converters"
        mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="700"
        x:Class="ManufactPlanner.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        xmlns:vm="using:ManufactPlanner.ViewModels"
        Icon="/Assets/avalonia-logo.ico"
        Title="ManufactPlanner"
        TransparencyLevelHint="AcrylicBlur"
        Background="Transparent"
        WindowStartupLocation="CenterScreen">

	<Window.Resources>
		<converters:BoolToValueConverter x:Key="BoolToValue"/>
		<converters:IsGreaterThanConverter x:Key="IsGreaterThan"/>
		<converters:StringEqualsValueConverter x:Key="StringEqualsValue"/>
		<converters:MarginConverter x:Key="MarginConverter"/>
		<converters:PercentToWidthConverter x:Key="PercentToWidthConverter"/>
		<converters:AuthMarginConverter x:Key="AuthMarginConverter"/>
	</Window.Resources>

	<Window.Styles>
		<!-- Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ ÑÑ‚Ð¸Ð»ÑŒ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ñ… ÐºÐ½Ð¾Ð¿Ð¾Ðº -->
		<Style Selector="Button.navButton">
			<Setter Property="Height" Value="40"/>
			<Setter Property="Background" Value="Transparent"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="Opacity" Value="0.9"/>
			<Setter Property="Margin" Value="5,5"/>
			<Setter Property="Padding" Value="5,0"/>
			<Setter Property="CornerRadius" Value="4"/>
			<Setter Property="HorizontalContentAlignment" Value="Left"/>
			<!-- Ð£Ð´Ð°Ð»Ð¸Ð¼ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ ÑˆÐ¸Ñ€Ð¸Ð½Ñƒ, Ð¾Ð½Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑ‚ÑŒÑÑ Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ð¿Ð°Ð½ÐµÐ»Ð¸ -->
		</Style>

		<!-- Ð¡Ñ‚Ð¸Ð»ÑŒ Ð´Ð»Ñ ÐºÐ½Ð¾Ð¿Ð¾Ðº Ð¿Ñ€Ð¸ Ñ€Ð°Ð·Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¾Ð¹ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð°Ð½ÐµÐ»Ð¸ -->
		<Style Selector="Button.navButton[Tag=expanded]">
			<Setter Property="Width" Value="180"/>
			<Setter Property="Margin" Value="10,5"/>
			<Setter Property="Padding" Value="10,0"/>
		</Style>

		<!-- Ð¡Ñ‚Ð¸Ð»ÑŒ Ð´Ð»Ñ ÐºÐ½Ð¾Ð¿Ð¾Ðº Ð¿Ñ€Ð¸ ÑÐ²ÐµÑ€Ð½ÑƒÑ‚Ð¾Ð¹ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð°Ð½ÐµÐ»Ð¸ -->
		<Style Selector="Button.navButton[Tag=collapsed]">
			<Setter Property="Width" Value="50"/>
			<Setter Property="Margin" Value="5,5"/>
			<Setter Property="Padding" Value="5,0"/>
			<Setter Property="HorizontalContentAlignment" Value="Center"/>
		</Style>

		<!-- Ð¡Ñ‚Ð¸Ð»ÑŒ Ð¿Ñ€Ð¸ Ð½Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ð¸ -->
		<Style Selector="Button.navButton:pointerover">
			<Setter Property="Background" Value="#008999"/>
			<Setter Property="Opacity" Value="1"/>
		</Style>

	</Window.Styles>

	<Grid>
		<!-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ„Ð¾Ð½ -->
		<Border Background="{DynamicResource BackgroundBrush}"/>

		<Grid RowDefinitions="60,*" ColumnDefinitions="Auto,*">
			<!-- Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ -->
			<Border Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                    Background="{DynamicResource SurfaceBrush}"
                    IsVisible="{Binding IsAuthenticated}">
				<Grid>
					<!-- Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ð²ÐµÑ€Ñ…Ð½ÐµÐ¹ Ð¿Ð°Ð½ÐµÐ»Ð¸... -->
					<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="20,0,0,0">
						<Ellipse Width="40" Height="40" Fill="{DynamicResource PrimaryBrush}"/>
						<TextBlock Text="ManufactPlanner" FontSize="16" FontWeight="SemiBold"
                                  Foreground="{DynamicResource TextPrimaryBrush}" VerticalAlignment="Center" Margin="10,0,0,0"/>
					</StackPanel>

					<!-- ÐŸÐ¾Ð¸ÑÐº -->
					<Border Width="300" Height="30" CornerRadius="15" Background="{DynamicResource BackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" HorizontalAlignment="Center">
						<TextBox Watermark="ÐŸÐ¾Ð¸ÑÐº..." BorderThickness="0" Background="Transparent"
                                 Foreground="{DynamicResource TextPrimaryBrush}"
                                 VerticalAlignment="Center" Padding="15,0,0,0"/>
					</Border>

				<!-- ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ Ð¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ -->
				<StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,20,0">
					<!-- Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ -->
					<Border Width="30" Height="30" CornerRadius="15" Background="{DynamicResource BackgroundBrush}"
						BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" Margin="0,0,20,0">
						<Grid>
							<Ellipse Width="10" Height="10" Fill="{DynamicResource WarningBrush}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
							<Border Width="12" Height="12" CornerRadius="6" Background="{DynamicResource ErrorBrush}"
									VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,-2,-2,0"
									IsVisible="{Binding UnreadNotificationsCount, Converter={StaticResource IsGreaterThan}, ConverterParameter='0'}">
								<TextBlock Text="{Binding UnreadNotificationsCount}" FontSize="9" Foreground="White"
											HorizontalAlignment="Center" VerticalAlignment="Center"/>
							</Border>
						</Grid>
					</Border>

					<!-- ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ -->
					<Border Width="40" Height="40" CornerRadius="20" Background="#9575CD" Opacity="0.7">
						<TextBlock Text="ÐÐŸ" FontSize="14" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
					</Border>
					<Button Margin="10,0,0,0" Background="Transparent" Command="{Binding Logout}">
						<TextBlock Text="Ð’Ñ‹Ñ…Ð¾Ð´" Foreground="#333" VerticalAlignment="Center"/>
					</Button>
				</StackPanel>
			</Grid>
		</Border>

			<!-- Ð‘Ð¾ÐºÐ¾Ð²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¸ (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¿ÐµÑ€Ð²Ð¾Ð¼ ÑÑ‚Ð¾Ð»Ð±Ñ†Ðµ Ð¸ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ) -->
			<!-- Ð‘Ð¾ÐºÐ¾Ð²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ð½Ð°Ð²Ð¸Ð³Ð°Ñ†Ð¸Ð¸ (Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¿ÐµÑ€Ð²Ð¾Ð¼ ÑÑ‚Ð¾Ð»Ð±Ñ†Ðµ Ð¸ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ) -->
			<Grid Grid.Row="1" Grid.Column="0"
				  Width="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='60,200'}"
				  IsVisible="{Binding IsAuthenticated}">
				<!-- Ð¤Ð¾Ð½ Ñ Ñ‚ÐµÐ½ÑŒÑŽ -->
				<Border Background="{DynamicResource SidebarGradient}"
						BoxShadow="2 0 3 #10000000"
						CornerRadius="0,4,4,0">
					<StackPanel Margin="0,20,0,0">
						<!-- Ð”Ð°ÑˆÐ±Ð¾Ñ€Ð´ -->
						<Button Classes="navButton" Command="{Binding NavigateToDashboard}"
								Tag="{Binding CurrentMenuItem, Converter={StaticResource StringEqualsValue}, ConverterParameter='dashboard'}"
								Width="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='50,180'}"
								HorizontalAlignment="Left"
								Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='5 5,10 5'}">
							<StackPanel Orientation="Horizontal">
								<TextBlock Text="ðŸ " FontSize="14" VerticalAlignment="Center"
										  HorizontalAlignment="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='Center,Left'}"
										  Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='0,0 0 10 0'}"/>
								<TextBlock Text="Ð”Ð°ÑˆÐ±Ð¾Ñ€Ð´" VerticalAlignment="Center" IsVisible="{Binding !IsSidebarCollapsed}"/>
							</StackPanel>
						</Button>

						<!-- Ð—Ð°ÐºÐ°Ð·Ñ‹ -->
						<Button Classes="navButton" Command="{Binding NavigateToOrders}"
								Tag="{Binding CurrentMenuItem, Converter={StaticResource StringEqualsValue}, ConverterParameter='orders'}"
								Width="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='50,180'}"
								HorizontalAlignment="Left"
								Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='5 5,10 5'}">
							<StackPanel Orientation="Horizontal">
								<TextBlock Text="ðŸ“‹" FontSize="14" VerticalAlignment="Center"
										  HorizontalAlignment="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='Center,Left'}"
										  Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='0,0 0 10 0'}"/>
								<TextBlock Text="Ð—Ð°ÐºÐ°Ð·Ñ‹" VerticalAlignment="Center" IsVisible="{Binding !IsSidebarCollapsed}"/>
							</StackPanel>
						</Button>

						<!-- Ð—Ð°Ð´Ð°Ñ‡Ð¸ -->
						<Button Classes="navButton" Command="{Binding NavigateToTasks}"
								Tag="{Binding CurrentMenuItem, Converter={StaticResource StringEqualsValue}, ConverterParameter='tasks'}"
								Width="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='50,180'}"
								HorizontalAlignment="Left"
								Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='5 5,10 5'}">
							<StackPanel Orientation="Horizontal">
								<TextBlock Text="âœ“" FontSize="14" VerticalAlignment="Center"
										  HorizontalAlignment="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='Center,Left'}"
										  Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='0,0 0 10 0'}"/>
								<TextBlock Text="Ð—Ð°Ð´Ð°Ñ‡Ð¸" VerticalAlignment="Center" IsVisible="{Binding !IsSidebarCollapsed}"/>
							</StackPanel>
						</Button>

						<!-- ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ -->
						<Button Classes="navButton" Command="{Binding NavigateToCalendar}"
								Tag="{Binding CurrentMenuItem, Converter={StaticResource StringEqualsValue}, ConverterParameter='calendar'}"
								Width="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='50,180'}"
								HorizontalAlignment="Left"
								Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='5 5,10 5'}">
							<StackPanel Orientation="Horizontal">
								<TextBlock Text="ðŸ“…" FontSize="14" VerticalAlignment="Center"
										  HorizontalAlignment="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='Center,Left'}"
										  Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='0,0 0 10 0'}"/>
								<TextBlock Text="ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ" VerticalAlignment="Center" IsVisible="{Binding !IsSidebarCollapsed}"/>
							</StackPanel>
						</Button>

						<!-- Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ -->
						<Button Classes="navButton" Command="{Binding NavigateToDocumentation}"
								Tag="{Binding CurrentMenuItem, Converter={StaticResource StringEqualsValue}, ConverterParameter='documentation'}"
								Width="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='50,180'}"
								HorizontalAlignment="Left"
								Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='5 5,10 5'}">
							<StackPanel Orientation="Horizontal">
								<TextBlock Text="ðŸ“„" FontSize="14" VerticalAlignment="Center"
										  HorizontalAlignment="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='Center,Left'}"
										  Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='0,0 0 10 0'}"/>
								<TextBlock Text="Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ" VerticalAlignment="Center" IsVisible="{Binding !IsSidebarCollapsed}"/>
							</StackPanel>
						</Button>

						<!-- ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ -->
						<Button Classes="navButton" Command="{Binding NavigateToProduction}"
								Tag="{Binding CurrentMenuItem, Converter={StaticResource StringEqualsValue}, ConverterParameter='production'}"
								Width="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='50,180'}"
								HorizontalAlignment="Left"
								Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='5 5,10 5'}">
							<StackPanel Orientation="Horizontal">
								<TextBlock Text="ðŸ­" FontSize="14" VerticalAlignment="Center"
										  HorizontalAlignment="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='Center,Left'}"
										  Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='0,0 0 10 0'}"/>
								<TextBlock Text="ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾" VerticalAlignment="Center" IsVisible="{Binding !IsSidebarCollapsed}"/>
							</StackPanel>
						</Button>

						<!-- ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ° -->
						<Button Classes="navButton" Command="{Binding NavigateToAnalytics}"
								Tag="{Binding CurrentMenuItem, Converter={StaticResource StringEqualsValue}, ConverterParameter='analytics'}"
								Width="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='50,180'}"
								HorizontalAlignment="Left"
								Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='5 5,10 5'}">
							<StackPanel Orientation="Horizontal">
								<TextBlock Text="ðŸ“Š" FontSize="14" VerticalAlignment="Center"
										  HorizontalAlignment="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='Center,Left'}"
										  Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='0,0 0 10 0'}"/>
								<TextBlock Text="ÐÐ½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ°" VerticalAlignment="Center" IsVisible="{Binding !IsSidebarCollapsed}"/>
							</StackPanel>
						</Button>

						<!-- ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ -->
						<Button Classes="navButton" Command="{Binding NavigateToSettings}"
								Tag="{Binding CurrentMenuItem, Converter={StaticResource StringEqualsValue}, ConverterParameter='settings'}"
								Width="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='50,180'}"
								HorizontalAlignment="Left"
								Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='5 5,10 5'}">
							<StackPanel Orientation="Horizontal">
								<TextBlock Text="âš™ï¸" FontSize="14" VerticalAlignment="Center"
										  HorizontalAlignment="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='Center,Left'}"
										  Margin="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='0,0 0 10 0'}"/>
								<TextBlock Text="ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸" VerticalAlignment="Center" IsVisible="{Binding !IsSidebarCollapsed}"/>
							</StackPanel>
						</Button>
					</StackPanel>
				</Border>
			</Grid>

			<!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ÑÐ²Ð¾Ñ€Ð°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ñ/Ñ€Ð°Ð·Ð²Ð¾Ñ€Ð°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ñ Ð±Ð¾ÐºÐ¾Ð²Ð¾Ð¹ Ð¿Ð°Ð½ÐµÐ»Ð¸ -->
			<Button Grid.Row="1" Grid.Column="0"
					Width="24" Height="24"
					HorizontalAlignment="Right" VerticalAlignment="Top"
					Margin="0,10,0,0"
					Background="Transparent" BorderThickness="0"
					Command="{Binding ToggleSidebar}"
					ZIndex="2"
					IsVisible="{Binding IsAuthenticated}">
				<TextBlock Text="{Binding IsSidebarCollapsed, Converter={StaticResource BoolToValue}, ConverterParameter='â¯,â®'}"
						  FontSize="12" Foreground="White"/>
			</Button>

			<!-- ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¾Ð±Ð»Ð°ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð° (Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑÑ‚Ð¾Ð»Ð±ÐµÑ†, Ð²Ñ‚Ð¾Ñ€Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°) -->
			<ContentPresenter Grid.Row="1" Grid.Column="1"
							  Content="{Binding CurrentView}"
							  IsVisible="True" />
		</Grid>
	</Grid>
</Window>