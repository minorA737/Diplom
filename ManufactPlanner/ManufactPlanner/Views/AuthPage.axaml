<UserControl xmlns="https://github.com/avaloniaui"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
            mc:Ignorable="d"
            x:Class="ManufactPlanner.Views.AuthPage"
            x:DataType="vm:AuthViewModel"
            xmlns:vm="using:ManufactPlanner.ViewModels"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch">

	<Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
		<!-- Фон на всю страницу -->
		<Rectangle Fill="#F8F9FA" Stretch="Fill"/>

		<!-- Карточка авторизации -->
		<Border Width="300" Height="400" Background="White" CornerRadius="8"
                BoxShadow="0 2 3 #10000000"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">

			<!-- Шапка карточки -->
			<Grid>
				<Rectangle Height="80" VerticalAlignment="Top" Fill="#00ACC1" Opacity="0.8"/>
				<Rectangle Height="20" VerticalAlignment="Top" Margin="0,80,0,0" Fill="White"/>

				<!-- Логотип -->
				<Ellipse Width="60" Height="60" Fill="White" Opacity="0.9" VerticalAlignment="Top" Margin="0,20,0,0"/>
				<TextBlock Text="ManufactPlanner" Foreground="#00ACC1" FontWeight="Bold"
                           HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,45,0,0"/>

				<!-- Заголовок формы -->
				<TextBlock Text="Вход в систему" FontSize="16" FontWeight="Medium" Foreground="#333333"
                           HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,120,0,0"/>

				<!-- Поля формы -->
				<StackPanel Margin="30,160,30,0">
					<!-- Поле логина -->
					<Border Height="48" Background="#F8F9FA" BorderBrush="#E0E0E0" BorderThickness="1"
                            CornerRadius="6" Margin="0,0,0,10">
						<Grid>
							<TextBlock Text="Имя пользователя" Foreground="#9E9E9E" FontSize="12"
                                       Margin="10,8,0,0" IsVisible="{Binding !HasUsername}"/>
							<TextBox Text="{Binding Username}" Background="Transparent" BorderThickness="0"
                                     VerticalAlignment="Center" Margin="10,0,0,0"/>
						</Grid>
					</Border>

					<!-- Поле пароля -->
					<Border Height="48" Background="#F8F9FA" BorderBrush="#E0E0E0" BorderThickness="1"
                            CornerRadius="6" Margin="0,10,0,0">
						<Grid>
							<TextBlock Text="Пароль" Foreground="#9E9E9E" FontSize="12"
                                       Margin="10,8,0,0" IsVisible="{Binding !HasPassword}"/>
							<TextBox Text="{Binding Password}" PasswordChar="•" Background="Transparent"
                                     BorderThickness="0" VerticalAlignment="Center" Margin="10,0,0,0"/>
						</Grid>
					</Border>

					<!-- Запомнить меня -->
					<Grid Margin="0,20,0,0">
						<CheckBox IsChecked="{Binding RememberMe}" Margin="0,0,0,0"/>
						<TextBlock Text="Запомнить меня" FontSize="12" Foreground="#333333" Margin="25,0,0,0"/>
					</Grid>

					<!-- Кнопка входа -->
					<Button Content="ВОЙТИ" HorizontalAlignment="Stretch" HorizontalContentAlignment="Center"
                            Height="48" Background="#00ACC1" Foreground="White" CornerRadius="6"
                            FontSize="14" FontWeight="Medium" Margin="0,20,0,0"
                            Command="{Binding LoginCommand}"/>

					<ProgressBar IsIndeterminate="True" IsVisible="{Binding IsLoading}"
						Height="4" Margin="0,15,0,0"/>
					
					<!-- Сообщение об ошибке -->
					<TextBlock Text="{Binding ErrorMessage}" Foreground="#FF7043"
                               FontSize="12" TextWrapping="Wrap" HorizontalAlignment="Center"
                               Margin="0,10,0,0" IsVisible="{Binding HasError}"/>
				</StackPanel>

				<!-- Футер -->
				<TextBlock Text="© 2025 ManufactPlanner. Все права защищены." FontSize="11" Foreground="#9E9E9E"
                           HorizontalAlignment="Center" VerticalAlignment="Bottom" Margin="0,0,0,20"/>
			</Grid>
		</Border>
	</Grid>
</UserControl>