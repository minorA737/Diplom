<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="700"
             x:Class="ManufactPlanner.Views.NotificationManagementPage"
             x:DataType="vm:NotificationManagementViewModel"
             xmlns:vm="using:ManufactPlanner.ViewModels"
             xmlns:converters="using:ManufactPlanner.Converters">

	<UserControl.Resources>
		<converters:IsGreaterThanConverter x:Key="IsGreaterThan"/>
		<converters:BoolToValueConverter x:Key="BoolToValue"/>
		<converters:StringEqualsValueConverter x:Key="StringEqualsValue"/>
	</UserControl.Resources>

	<Grid RowDefinitions="Auto,Auto,*">
		<!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ -->
		<Grid Grid.Row="0" ColumnDefinitions="*,Auto" Margin="20,20,20,0">
			<TextBlock Text="ÐžÐ¿Ð¾Ð²ÐµÑ‰ÐµÐ½Ð¸Ñ" FontSize="20" FontWeight="SemiBold"
                       Foreground="{DynamicResource TextPrimaryBrush}"/>

			<!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ -->
			<StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="10">
				<Button Content="âŸ³ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ"
                        MinWidth="120" Height="36"
                        CornerRadius="4" Background="{DynamicResource PrimaryBrush}"
                        Foreground="{DynamicResource SurfaceBrush}"
                        Command="{Binding RefreshCommand}"/>
				<Button Content="ðŸ“ˆ Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°"
                        MinWidth="120" Height="36"
                        CornerRadius="4" Background="{DynamicResource SecondaryBrush}"
                        Foreground="{DynamicResource SurfaceBrush}"
                        Command="{Binding ShowStatisticsCommand}"/>
			</StackPanel>
		</Grid>

		<!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ -->
		<Border Grid.Row="1" Margin="20,20,20,0" Background="{DynamicResource SurfaceBrush}"
                CornerRadius="8" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
			<ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
				<StackPanel Orientation="Horizontal" Margin="20,15" Spacing="15">
					<!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ Ð¿Ñ€Ð¾Ñ‡Ñ‚ÐµÐ½Ð¸Ñ -->
					<StackPanel MinWidth="150">
						<TextBlock Text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:" FontSize="12"
                                   Foreground="{DynamicResource TextSecondaryBrush}" Margin="0,0,0,5"/>
						<ComboBox MinWidth="150" SelectedItem="{Binding SelectedReadStatus}"
                          ItemsSource="{Binding NotificationStatuses}"/>
					</StackPanel>

					<!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ Ñ‚Ð¸Ð¿Ñƒ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ -->
					<StackPanel MinWidth="150">
						<TextBlock Text="Ð¢Ð¸Ð¿:" FontSize="12"
                                   Foreground="{DynamicResource TextSecondaryBrush}" Margin="0,0,0,5"/>
						<ComboBox MinWidth="150" SelectedItem="{Binding SelectedNotificationType}"
                          ItemsSource="{Binding NotificationTypes}"/>
					</StackPanel>

					<!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ Ð´Ð°Ñ‚Ðµ -->
					<StackPanel MinWidth="200">
						<TextBlock Text="ÐŸÐµÑ€Ð¸Ð¾Ð´:" FontSize="12"
                                   Foreground="{DynamicResource TextSecondaryBrush}" Margin="0,0,0,5"/>
						<WrapPanel>
							<DatePicker MinWidth="120" SelectedDate="{Binding StartDate}" Margin="0,0,5,0"/>
							<TextBlock Text="â€”" VerticalAlignment="Center" Foreground="{DynamicResource TextSecondaryBrush}" Margin="0,0,5,0"/>
							<DatePicker MinWidth="120" SelectedDate="{Binding EndDate}"/>
						</WrapPanel>
					</StackPanel>

					<!-- ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ -->
					<StackPanel MinWidth="200">
						<TextBlock Text="ÐŸÐ¾Ð¸ÑÐº:" FontSize="12"
                                   Foreground="{DynamicResource TextSecondaryBrush}" Margin="0,0,0,5"/>
						<TextBox MinWidth="200" Watermark="Ð˜Ð¼Ñ Ð¸Ð»Ð¸ Ð»Ð¾Ð³Ð¸Ð½..."
                                 Text="{Binding SearchUser}"/>
					</StackPanel>
				</StackPanel>
			</ScrollViewer>
		</Border>

		<!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ -->
		<Border Grid.Row="2" Margin="20,20,20,20" Background="{DynamicResource SurfaceBrush}"
                CornerRadius="8" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
			<Grid RowDefinitions="Auto,*,Auto">
				<!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ - Ð¿Ñ€Ð¾Ð¿Ð¾Ñ€Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸ -->
				<Grid Grid.Row="0" Height="50" Background="{DynamicResource BackgroundBrush}">
					<ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
						<Grid MinWidth="800" ColumnDefinitions="2*,3*,1.5*,1.5*,1.8*,1.2*,1*" Margin="20,0,20,0">
							<TextBlock Grid.Column="0" Text="ÐŸÐ¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»ÑŒ" FontSize="14" FontWeight="Medium"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       VerticalAlignment="Center"/>
							<TextBlock Grid.Column="1" Text="Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ" FontSize="14" FontWeight="Medium"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       VerticalAlignment="Center"/>
							<TextBlock Grid.Column="2" Text="Ð¢Ð¸Ð¿" FontSize="14" FontWeight="Medium"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       VerticalAlignment="Center"/>
							<TextBlock Grid.Column="3" Text="ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾" FontSize="14" FontWeight="Medium"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       VerticalAlignment="Center"/>
							<TextBlock Grid.Column="4" Text="ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð¾" FontSize="14" FontWeight="Medium"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       VerticalAlignment="Center"/>
							<TextBlock Grid.Column="5" Text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ" FontSize="14" FontWeight="Medium"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       VerticalAlignment="Center"/>
							<TextBlock Grid.Column="6" Text="Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ" FontSize="14" FontWeight="Medium"
                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                       VerticalAlignment="Center" HorizontalAlignment="Center"/>
						</Grid>
					</ScrollViewer>
				</Grid>

				<!-- Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ -->
				<Rectangle Grid.Row="0" Height="1" Fill="{DynamicResource BorderBrush}"
                           VerticalAlignment="Bottom"/>

				<!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ -->
				<ScrollViewer Grid.Row="1">
					<ItemsControl ItemsSource="{Binding AllNotifications}">
						<ItemsControl.ItemTemplate>
							<DataTemplate>
								<Grid MinHeight="80" Background="{Binding IsAlternate, Converter={StaticResource BoolToValue}, 
                                                         ConverterParameter='{DynamicResource SurfaceBrush},{DynamicResource BackgroundBrush}'}">
									<ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
										<Grid MinWidth="800" ColumnDefinitions="2*,3*,1.5*,1.5*,1.8*,1.2*,1*" Margin="20,10,20,10">
											<!-- ÐŸÐ¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»ÑŒ -->
											<StackPanel Grid.Column="0" VerticalAlignment="Center">
												<TextBlock Text="{Binding RecipientName}" FontSize="14" FontWeight="Medium"
                                                           Foreground="{DynamicResource TextPrimaryBrush}"
                                                           TextWrapping="Wrap"/>
												<TextBlock Text="{Binding RecipientUsername}" FontSize="12"
                                                           Foreground="{DynamicResource TextSecondaryBrush}"
                                                           TextWrapping="Wrap"/>
											</StackPanel>

											<!-- Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ -->
											<StackPanel Grid.Column="1" VerticalAlignment="Center">
												<TextBlock Text="{Binding Title}" FontSize="14" FontWeight="Medium"
                                                           Foreground="{DynamicResource TextPrimaryBrush}"
                                                           TextWrapping="Wrap" MaxLines="2" TextTrimming="CharacterEllipsis"/>
												<TextBlock Text="{Binding Message}" FontSize="12"
                                                           Foreground="{DynamicResource TextSecondaryBrush}"
                                                           TextWrapping="Wrap" MaxLines="3" TextTrimming="CharacterEllipsis"/>
											</StackPanel>

											<!-- Ð¢Ð¸Ð¿ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ -->
											<TextBlock Grid.Column="2" Text="{Binding TypeDisplayName}" FontSize="12"
                                                       Foreground="{DynamicResource TextSecondaryBrush}"
                                                       VerticalAlignment="Center" TextWrapping="Wrap"/>

											<!-- Ð”Ð°Ñ‚Ð° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ -->
											<StackPanel Grid.Column="3" VerticalAlignment="Center">
												<TextBlock Text="{Binding FormattedCreatedDate}" FontSize="12"
                                                           Foreground="{DynamicResource TextPrimaryBrush}"/>
												<TextBlock Text="{Binding FormattedCreatedTime}" FontSize="11"
                                                           Foreground="{DynamicResource TextSecondaryBrush}"/>
											</StackPanel>

											<!-- Ð”Ð°Ñ‚Ð° Ð¿Ñ€Ð¾Ñ‡Ñ‚ÐµÐ½Ð¸Ñ -->
											<StackPanel Grid.Column="4" VerticalAlignment="Center">
												<TextBlock Text="{Binding FormattedReadDate}" FontSize="12"
                                                           Foreground="{DynamicResource TextPrimaryBrush}"/>
												<TextBlock Text="{Binding FormattedReadTime}" FontSize="11"
                                                           Foreground="{DynamicResource TextSecondaryBrush}"/>
											</StackPanel>

											<!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¿Ñ€Ð¾Ñ‡Ñ‚ÐµÐ½Ð¸Ñ -->
											<Border Grid.Column="5" MaxWidth="90" Height="28" CornerRadius="4"
                                                    Background="{Binding IsRead, Converter={StaticResource BoolToValue}, 
                                                               ConverterParameter='{DynamicResource SuccessBrush},{DynamicResource WarningBrush}'}"
                                                    Opacity="0.2" VerticalAlignment="Center" HorizontalAlignment="Center">
												<TextBlock Text="{Binding IsRead, Converter={StaticResource BoolToValue}, 
                                                                 ConverterParameter='ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð¾,ÐÐµ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð¾'}"
                                                           FontSize="11"
                                                           Foreground="{Binding IsRead, Converter={StaticResource BoolToValue}, 
                                                                      ConverterParameter='{DynamicResource SuccessBrush},{DynamicResource WarningBrush}'}"
                                                           HorizontalAlignment="Center" VerticalAlignment="Center"
                                                           TextWrapping="Wrap"/>
											</Border>

											<!-- Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ -->
											<StackPanel Grid.Column="6" Orientation="Horizontal" Spacing="5"
                                                        VerticalAlignment="Center" HorizontalAlignment="Center">
												<!-- ÐšÐ½Ð¾Ð¿ÐºÐ° "ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸" -->
												<Button Width="30" Height="30" CornerRadius="4"
                                                        Background="{DynamicResource SurfaceBrush}"
                                                        BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"
                                                        Command="{Binding $parent[ItemsControl].((vm:NotificationManagementViewModel)DataContext).NavigateToItemCommand}"
                                                        CommandParameter="{Binding}"
                                                        ToolTip.Tip="ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ðº ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñƒ">
													<TextBlock Text="â†’" FontSize="14" Foreground="{DynamicResource PrimaryBrush}"
                                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
												</Button>

												<!-- ÐšÐ½Ð¾Ð¿ÐºÐ° "ÐžÑ‚Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ ÐºÐ°Ðº Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ð¾Ðµ" -->
												<Button Width="30" Height="30" CornerRadius="4"
                                                        Background="{DynamicResource SurfaceBrush}"
                                                        BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"
                                                        Command="{Binding $parent[ItemsControl].((vm:NotificationManagementViewModel)DataContext).MarkAsReadCommand}"
                                                        CommandParameter="{Binding}"
                                                        IsVisible="{Binding !IsRead}"
                                                        ToolTip.Tip="ÐžÑ‚Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ ÐºÐ°Ðº Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ð¾Ðµ">
													<TextBlock Text="âœ“" FontSize="14" Foreground="{DynamicResource SuccessBrush}"
                                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
												</Button>
											</StackPanel>
										</Grid>
									</ScrollViewer>

									<!-- Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ ÑÑ‚Ñ€Ð¾ÐºÐ¸ -->
									<Rectangle Height="1" Fill="{DynamicResource BorderBrush}"
                                               VerticalAlignment="Bottom"/>
								</Grid>
							</DataTemplate>
						</ItemsControl.ItemTemplate>
					</ItemsControl>
				</ScrollViewer>

				<!-- ÐŸÐ°Ð³Ð¸Ð½Ð°Ñ†Ð¸Ñ -->
				<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center"
                            Spacing="10" Margin="20" FlowDirection="LeftToRight">
					<!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð·Ð°Ð¿Ð¸ÑÑÑ… -->
					<TextBlock Text="{Binding PaginationInfo}" FontSize="12"
                               Foreground="{DynamicResource TextSecondaryBrush}" VerticalAlignment="Center"
                               Margin="0,0,10,0"/>

					<!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð¿Ð°Ð³Ð¸Ð½Ð°Ñ†Ð¸Ð¸ -->
					<StackPanel Orientation="Horizontal" Spacing="5">
						<Button Content="â† ÐŸÑ€ÐµÐ´." MinWidth="70" Height="32"
                                Command="{Binding PreviousPageCommand}"
                                IsEnabled="{Binding CanGoPrevious}"/>

						<TextBlock Text="{Binding CurrentPage}" FontSize="14" FontWeight="Medium"
                                   Foreground="{DynamicResource TextPrimaryBrush}"
                                   VerticalAlignment="Center" Margin="10,0"/>
						<TextBlock Text="Ð¸Ð·" FontSize="14" Foreground="{DynamicResource TextSecondaryBrush}"
                                   VerticalAlignment="Center"/>
						<TextBlock Text="{Binding TotalPages}" FontSize="14" FontWeight="Medium"
                                   Foreground="{DynamicResource TextPrimaryBrush}"
                                   VerticalAlignment="Center" Margin="5,0"/>

						<Button Content="Ð¡Ð»ÐµÐ´. â†’" MinWidth="70" Height="32"
                                Command="{Binding NextPageCommand}"
                                IsEnabled="{Binding CanGoNext}"/>
					</StackPanel>
				</StackPanel>

				<!-- Ð˜Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ -->
				<Grid Grid.Row="1" IsVisible="{Binding IsLoading}" Background="#80FFFFFF">
					<ProgressBar IsIndeterminate="True" Width="200" Height="4"
                                 VerticalAlignment="Center" HorizontalAlignment="Center"/>
					<TextBlock Text="Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹..." FontSize="14"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,30,0,0"/>
				</Grid>

				<!-- Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, ÐµÑÐ»Ð¸ ÑÐ¿Ð¸ÑÐ¾Ðº Ð¿ÑƒÑÑ‚ -->
				<Grid Grid.Row="1" IsVisible="{Binding IsEmpty}">
					<StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="15">
						<TextBlock Text="ðŸ“­" FontSize="48" HorizontalAlignment="Center"
                                   Foreground="{DynamicResource TextSecondaryBrush}"/>
						<TextBlock Text="ÐÐµÑ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹ Ð¿Ð¾ Ð·Ð°Ð´Ð°Ð½Ð½Ñ‹Ð¼ ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸ÑÐ¼" FontSize="16"
                                   Foreground="{DynamicResource TextSecondaryBrush}" HorizontalAlignment="Center"
                                   TextWrapping="Wrap" TextAlignment="Center"/>
						<TextBlock Text="ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ Ð¸Ð»Ð¸ Ð¿ÐµÑ€Ð¸Ð¾Ð´" FontSize="12"
                                   Foreground="{DynamicResource TextSecondaryBrush}" HorizontalAlignment="Center"
                                   TextWrapping="Wrap" TextAlignment="Center"/>
					</StackPanel>
				</Grid>
			</Grid>
		</Border>
	</Grid>
</UserControl>