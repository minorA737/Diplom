<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="760" d:DesignHeight="640"
             x:Class="ManufactPlanner.Views.OrdersPage"
             x:DataType="vm:OrdersViewModel"
             xmlns:vm="using:ManufactPlanner.ViewModels"
             xmlns:converters="using:ManufactPlanner.Converters">
	<UserControl.Resources>
		<converters:BoolToValueConverter2 x:Key="BoolToValue"/>
		<converters:IsGreaterThanConverter x:Key="IsGreaterThan"/>
		<converters:StringEqualsValueConverter2 x:Key="StringEqualsValue"/>
		<converters:MarginConverter2 x:Key="MarginConverter"/>
		<converters:PercentToWidthConverter x:Key="PercentToWidth"/>
		<converters:StatusToColorConverter x:Key="StatusToColor"/>
	</UserControl.Resources>

	<UserControl.Styles>
		<!-- Ð¡Ñ‚Ð¸Ð»Ð¸ Ð´Ð»Ñ ComboBox -->
		<Style Selector="ComboBox">
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="Height" Value="30"/>
			<Setter Property="CornerRadius" Value="13"/>
			<Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
			<Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
			<Setter Property="BorderThickness" Value="1"/>
		</Style>
		<Style Selector="ComboBoxItem">
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="VerticalContentAlignment" Value="Center"/>
		</Style>
	</UserControl.Styles>

	<Grid RowDefinitions="Auto,Auto,*">
		<!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð¸ Ð¿Ð¾Ð»Ðµ Ð¿Ð¾Ð¸ÑÐºÐ° -->
		<Grid Grid.Row="0" ColumnDefinitions="*,Auto,Auto" Margin="20,20,20,0">
			<TextBlock Text="Ð—Ð°ÐºÐ°Ð·Ñ‹" FontSize="20" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimaryBrush}"/>

			<!-- ÐŸÐ¾Ð»Ðµ Ð¿Ð¾Ð¸ÑÐºÐ° -->
			<Border Grid.Column="1" Width="200" Height="36" CornerRadius="18" Background="{DynamicResource BackgroundBrush}"
                    BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" Margin="0,0,15,0">
				<Grid ColumnDefinitions="Auto,*">
					<TextBlock Grid.Column="0" Text="ðŸ”" FontSize="14" Foreground="{DynamicResource TextSecondaryBrush}" Opacity="0.7" Margin="12,0,5,0"
                               VerticalAlignment="Center" HorizontalAlignment="Center"/>
					<TextBox Grid.Column="1" Text="{Binding SearchText}" Watermark="ÐŸÐ¾Ð¸ÑÐº Ð·Ð°ÐºÐ°Ð·Ð¾Ð²..."
                             BorderThickness="0" Background="Transparent"
                             VerticalContentAlignment="Center" HorizontalContentAlignment="Left"
                             VerticalAlignment="Center" Height="36">
						<ToolTip.Tip>
							<TextBlock Text="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¾Ð¼ÐµÑ€ Ð·Ð°ÐºÐ°Ð·Ð°, Ð½Ð°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸Ð»Ð¸ Ð·Ð°ÐºÐ°Ð·Ñ‡Ð¸ÐºÐ° Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ°"/>
						</ToolTip.Tip>
					</TextBox>
				</Grid>
			</Border>

			<!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð·Ð°ÐºÐ°Ð·Ð° -->
			<Button Grid.Column="2" Width="80" Height="36" CornerRadius="18"
				Background="{DynamicResource PrimaryBrush}"
				Command="{Binding CreateOrderCommand}"
				IsVisible="{Binding $parent[Window].((vm:MainWindowViewModel)DataContext).IsAdministratorOrManager}">
				<TextBlock Text="+ Ð—Ð°ÐºÐ°Ð·" FontSize="12" Foreground="White"
						  HorizontalAlignment="Center" VerticalAlignment="Center"/>
				<ToolTip.Tip>
					<TextBlock Text="Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ð·Ð°ÐºÐ°Ð·"/>
				</ToolTip.Tip>
			</Button>
		</Grid>

		<!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹ -->
		<Border Grid.Row="1" Margin="20,20,20,0" Background="{DynamicResource SurfaceBrush}" CornerRadius="8">
			<StackPanel Orientation="Horizontal" Margin="20,10" Spacing="20" HorizontalAlignment="Center">
				<!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¡Ñ‚Ð°Ñ‚ÑƒÑ -->
				<ComboBox Width="170" ItemsSource="{Binding Statuses}"
                          SelectedItem="{Binding SelectedStatus}"
                          PlaceholderText="Ð’ÑÐµ ÑÑ‚Ð°Ñ‚ÑƒÑÑ‹">
					<ToolTip.Tip>
						<TextBlock Text="Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ Ð·Ð°ÐºÐ°Ð·Ð°"/>
					</ToolTip.Tip>
				</ComboBox>

				<!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð—Ð°ÐºÐ°Ð·Ñ‡Ð¸Ðº -->
				<ComboBox Width="170" ItemsSource="{Binding Customers}"
                          SelectedItem="{Binding SelectedCustomer}"
                          PlaceholderText="Ð’ÑÐµ Ð·Ð°ÐºÐ°Ð·Ñ‡Ð¸ÐºÐ¸">
					<ToolTip.Tip>
						<TextBlock Text="Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ Ð·Ð°ÐºÐ°Ð·Ñ‡Ð¸ÐºÑƒ"/>
					</ToolTip.Tip>
				</ComboBox>

				<!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¡Ñ€Ð¾Ðº Ð¿Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸ -->
				<ComboBox Width="170" ItemsSource="{Binding DeliveryPeriods}"
                          SelectedItem="{Binding SelectedDeliveryPeriod}"
                          PlaceholderText="Ð’ÑÐµ ÑÑ€Ð¾ÐºÐ¸">
					<ToolTip.Tip>
						<TextBlock Text="Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ ÑÑ€Ð¾ÐºÑƒ Ð¿Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸"/>
					</ToolTip.Tip>
				</ComboBox>

				<!-- Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ -->
				<ComboBox Width="170" ItemsSource="{Binding CreationPeriods}"
                          SelectedItem="{Binding SelectedCreationPeriod}"
                          PlaceholderText="Ð’ÑÐµ Ð´Ð°Ñ‚Ñ‹">
					<ToolTip.Tip>
						<TextBlock Text="Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ Ð¿Ð¾ Ð´Ð°Ñ‚Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ"/>
					</ToolTip.Tip>
				</ComboBox>

				<!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ -->
				<Button Width="30" Height="30" CornerRadius="15" Background="{DynamicResource PrimaryBrush}" Command="{Binding RefreshCommand}">
					<TextBlock Text="âŸ³" FontSize="14" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
					<ToolTip.Tip>
						<TextBlock Text="ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº"/>
					</ToolTip.Tip>
				</Button>
			</StackPanel>
		</Border>

		<!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ð·Ð°ÐºÐ°Ð·Ð¾Ð² Ñ Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€Ð¾Ð¼ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ -->
		<Grid Grid.Row="2" Margin="20,20,20,20">
			<!-- Ð˜Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ -->
			<ProgressBar IsIndeterminate="True" IsVisible="{Binding IsLoading}"
                        VerticalAlignment="Center" HorizontalAlignment="Center"
                        Width="200" Height="10"/>

			<!-- Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ð·Ð°ÐºÐ°Ð·Ð¾Ð² -->
			<Border Background="{DynamicResource SurfaceBrush}" CornerRadius="8">
				<Grid RowDefinitions="Auto,*,Auto">
					<!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ -->
					<Grid Grid.Row="0" Background="{DynamicResource BackgroundBrush}" Height="40">
						<!-- ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº Ñ Ð±Ð¾Ð»ÐµÐµ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ð¼Ð¸ Ð¿Ñ€Ð¾Ð¿Ð¾Ñ€Ñ†Ð¸ÑÐ¼Ð¸ -->
						<Grid ColumnDefinitions="10*,25*,20*,10*,8*,10*,5*" Margin="20,0,20,0">
							<TextBlock Grid.Column="0" Text="â„– Ð·Ð°ÐºÐ°Ð·Ð°" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" FontWeight="Medium"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
							<TextBlock Grid.Column="1" Text="ÐÐ°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" FontWeight="Medium"
                                       VerticalAlignment="Center"/>
							<TextBlock Grid.Column="2" Text="Ð—Ð°ÐºÐ°Ð·Ñ‡Ð¸Ðº" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" FontWeight="Medium"
                                       VerticalAlignment="Center"/>
							<TextBlock Grid.Column="3" Text="Ð¡Ñ€Ð¾Ðº" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" FontWeight="Medium"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
							<TextBlock Grid.Column="4" Text="ÐšÐ¾Ð»-Ð²Ð¾ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¹" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" FontWeight="Medium"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
							<TextBlock Grid.Column="5" Text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" FontWeight="Medium"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
							<TextBlock Grid.Column="6" Text="Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}" FontWeight="Medium"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Grid>
					</Grid>

					<!-- Ð›Ð¸Ð½Ð¸Ñ Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»Ñ -->
					<Rectangle Grid.Row="0" Height="1" Fill="{DynamicResource BorderBrush}" VerticalAlignment="Bottom" IsHitTestVisible="False"/>

					<!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð·Ð°ÐºÐ°Ð·Ð¾Ð² -->
					<ScrollViewer Grid.Row="1">
						<Grid>
							<ItemsControl ItemsSource="{Binding Orders}">
								<ItemsControl.ItemTemplate>
									<DataTemplate>
										<Grid Height="60" Background="{Binding IsAlternate, Converter={StaticResource BoolToValue}, ConverterParameter='{DynamicResource SurfaceBrush},{DynamicResource BackgroundBrush}'}">
											<!-- Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ñ‚Ðµ Ð¶Ðµ Ð¿Ñ€Ð¾Ð¿Ð¾Ñ€Ñ†Ð¸Ð¸ ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº, Ñ‡Ñ‚Ð¾ Ð¸ Ð² Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐµ -->
											<Grid ColumnDefinitions="10*,25*,20*,10*,8*,10*,5*" Margin="20,8,20,8">
												<!-- â„–  Ð·Ð°ÐºÐ°Ð·Ð° - Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ -->
												<TextBlock Grid.Column="0" Text="{Binding OrderNumber}" FontSize="13" Foreground="{DynamicResource TextPrimaryBrush}"
                                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>

												<!-- ÐÐ°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ -->
												<TextBlock Grid.Column="1" Text="{Binding Name}" FontSize="13" Foreground="{DynamicResource TextPrimaryBrush}"
                                                           VerticalAlignment="Center" TextWrapping="Wrap"/>

												<!-- Ð—Ð°ÐºÐ°Ð·Ñ‡Ð¸Ðº - Ñ Ð¿ÐµÑ€ÐµÐ½Ð¾ÑÐ¾Ð¼ Ñ‚ÐµÐºÑÑ‚Ð° -->
												<TextBlock Grid.Column="2" Text="{Binding Customer}" FontSize="12" Foreground="{DynamicResource TextPrimaryBrush}"
                                                           VerticalAlignment="Center" TextWrapping="Wrap"/>

												<!-- Ð¡Ñ€Ð¾Ðº - Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ -->
												<TextBlock Grid.Column="3" Text="{Binding Deadline}" FontSize="12"
                                                           Foreground="{Binding IsDateCritical, Converter={StaticResource BoolToValue}, ConverterParameter='{DynamicResource ErrorBrush},{DynamicResource TextPrimaryBrush}'}"
                                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>

												<!-- ÐšÐ¾Ð»-Ð²Ð¾ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¹ - Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ -->
												<TextBlock Grid.Column="4" Text="{Binding PositionsCount}" FontSize="12" Foreground="{DynamicResource TextPrimaryBrush}"
                                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>

												<!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð·Ð°ÐºÐ°Ð·Ð° - Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ -->
												<Border Grid.Column="5" Height="24" CornerRadius="12" VerticalAlignment="Center"
                                                        HorizontalAlignment="Center"
                                                        Background="{Binding Status, Converter={StaticResource StatusToColor}, ConverterParameter=Background}"
                                                        Opacity="0.2"
                                                        Padding="8,0">
													<TextBlock Text="{Binding Status}" FontSize="11"
                                                               Foreground="{Binding Status, Converter={StaticResource StatusToColor}}"
                                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
												</Border>

												<!-- ÐœÐµÐ½ÑŽ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ - Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ñƒ -->
												<Button Grid.Column="6" Width="30" Height="30" CornerRadius="15" Background="{DynamicResource BackgroundBrush}"
                                                        VerticalAlignment="Center" HorizontalAlignment="Center"
                                                        Command="{Binding $parent[ItemsControl].((vm:OrdersViewModel)DataContext).ShowOrderDetailsCommand}"
                                                        CommandParameter="{Binding Id}">
													<TextBlock Text="â‹®" FontSize="14" Foreground="{DynamicResource TextSecondaryBrush}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
													<ToolTip.Tip>
														<TextBlock Text="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ"/>
													</ToolTip.Tip>
												</Button>
											</Grid>

											<!-- Ð›Ð¸Ð½Ð¸Ñ Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»Ñ -->
											<Rectangle Height="1" Fill="{DynamicResource BorderBrush}" VerticalAlignment="Bottom"/>
										</Grid>
									</DataTemplate>
								</ItemsControl.ItemTemplate>
							</ItemsControl>

							<!-- Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… - Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð²ÐµÑ€Ñ… ÑÐ¿Ð¸ÑÐºÐ° -->
							<TextBlock Text="ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ"
                                    IsVisible="{Binding Orders.Count, Converter={StaticResource IsGreaterThan}, ConverterParameter='0 Invert=true'}"
                                    FontSize="16" Foreground="{DynamicResource TextSecondaryBrush}" FontWeight="Medium"
                                    HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Grid>
					</ScrollViewer>

					<!-- ÐŸÐ°Ð³Ð¸Ð½Ð°Ñ†Ð¸Ñ -->
					<StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Spacing="5" Margin="0,15,0,15">
						<Button Command="{Binding PreviousPageCommand}" Background="Transparent" BorderThickness="0"
                                IsEnabled="{Binding CanGoToPreviousPage}">
							<TextBlock Text="â—€ ÐŸÑ€ÐµÐ´." FontSize="13" Foreground="{Binding CanGoToPreviousPage, Converter={StaticResource BoolToValue}, ConverterParameter='{DynamicResource TextSecondaryBrush},{DynamicResource BorderBrush}'}" VerticalAlignment="Center"/>
						</Button>

						<!-- Ð¢ÐµÐºÑƒÑ‰Ð°Ñ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð° -->
						<Border Width="30" Height="30" CornerRadius="15" Background="{DynamicResource PrimaryBrush}" VerticalAlignment="Center">
							<TextBlock Text="{Binding CurrentPage}" FontSize="13" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>

						<!-- Ð˜Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† -->
						<TextBlock Text="Ð¸Ð·" FontSize="13" Foreground="{DynamicResource TextSecondaryBrush}" VerticalAlignment="Center" Margin="5,0"/>
						<TextBlock Text="{Binding TotalPages}" FontSize="13" Foreground="{DynamicResource TextSecondaryBrush}" VerticalAlignment="Center" Margin="5,0"/>

						<Button Command="{Binding NextPageCommand}" Background="Transparent" BorderThickness="0"
                                IsEnabled="{Binding CanGoToNextPage}">
							<TextBlock Text="Ð¡Ð»ÐµÐ´. â–¶" FontSize="13" Foreground="{Binding CanGoToNextPage, Converter={StaticResource BoolToValue}, ConverterParameter='{DynamicResource TextSecondaryBrush},{DynamicResource BorderBrush}'}" VerticalAlignment="Center"/>
						</Button>
					</StackPanel>
				</Grid>
			</Border>
		</Grid>
	</Grid>
</UserControl>